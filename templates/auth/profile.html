<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Профиль пользователя</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/css/profile-style.css">
</head>
<body>
{{ template "header" . }}

<div class="container">
  <h2>Профиль пользователя</h2>
  <div class="info">
    <p><strong>Email:</strong> {{ .User.Email }}</p>
    <p><strong>Телефон:</strong> {{ .User.Phone }}</p>
    <p><strong>Роль:</strong> {{ .User.Role }}</p>
  </div>

  <form action="/profile/update" method="POST">
    <label for="login">Новый логин</label>
    <input type="text" id="login" name="login" value="{{ or .User.Login .loginValue }}" required>

    <label for="old_password">Старый пароль</label>
    <input type="password" id="old_password" name="old_password" required>

    <label for="new_password">Новый пароль</label>
    <input type="password" id="new_password" name="new_password">
    {{ if .success }}
    <div class="success">{{ .success }}</div>
    {{ end }}
    {{ if .error }}
    <div class="error">{{ .error }}</div>
    {{ end }}
    <button type="submit">Обновить профиль</button>
  </form>
</div>
</body>
</html>